<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<script>


    function login() {
        var username = document.getElementById("username").value;
        var password = document.getElementById("password").value;

        var data = {
            username:username,
            password:password
        }

        var xmlhttp=new XMLHttpRequest();
        xmlhttp.open("POST","/login",true);
        xmlhttp.setRequestHeader('content-type', 'application/json');
        xmlhttp.onreadystatechange = function () {
            if(xmlhttp.readyState==4 && xmlhttp.status==200){
                var retData = JSON.parse(xmlhttp.responseText);
                if(retData.isSuccess){
                    window.location.href="main?id="+retData.content.id;
                }else{
                    document.getElementById("message").innerHTML = JSON.parse(xmlhttp.responseText).message;
                }
            }
        }
        xmlhttp.send(JSON.stringify(data));
    }


</script>
<body>
    用户名:<input type="text" name="username" id="username"><br>
    密码:<input type = "password" name="password" id="password"><br>
    <p id="message"></p>
    <button onclick="login()">提交</button>


</body>
</html>